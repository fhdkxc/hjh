<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"\@Gulim";
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:GulimChe;
	panose-1:2 11 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:"\@GulimChe";}
@font-face
	{font-family:"Malgun Gothic";
	panose-1:2 11 5 3 2 0 0 2 0 4;}
@font-face
	{font-family:"\@Malgun Gothic";}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:宋?;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:HYSinMyeongJo-Medium;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:HYGothic-Medium;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:HY궁서;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yet R";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:HYGothic-Extra;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"HCI Tulip";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:휴먼명조;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:HYMyeongJo-Extra;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:HY울릉도M;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:-소망M;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:HY둥근고딕B;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:BatangChe;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"HCI Poppy";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"HCI Hollyhock";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:휴먼고딕;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:함초롬돋움;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:한컴바탕;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HYSinMyeongJo-Medium";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HY울릉도M";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@宋?";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@휴먼명조";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@함초롬돋움";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@한컴바탕";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@휴먼고딕";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HYGothic-Extra";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HYMyeongJo-Extra";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@BatangChe";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HYGothic-Medium";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HY둥근고딕B";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Batang";
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:"\@-소망M";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@HY궁서";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yet R";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	text-autospace:none;
	word-break:break-all;
	font-size:11.0pt;
	font-family:"Malgun Gothic",sans-serif;}
p.a, li.a, div.a
	{mso-style-name:바탕글;
	margin:0in;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:103%;
	layout-grid-mode:char;
	text-autospace:none;
	word-break:break-all;
	font-size:10.0pt;
	font-family:"HYSinMyeongJo-Medium",serif;
	color:black;}
p.a0, li.a0, div.a0
	{mso-style-name:머리말;
	margin:0in;
	text-align:justify;
	text-justify:inter-ideograph;
	text-autospace:none;
	font-size:9.0pt;
	font-family:"함초롬돋움",serif;
	color:black;}
.MsoChpDefault
	{font-family:"Malgun Gothic",sans-serif;}
 /* Page Definitions */
 @page WordSection1
	{size:595.25pt 841.85pt;
	margin:70.85pt 42.5pt 42.5pt 42.5pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->

#updateBtn, #saveBtn, #deleteBtn{
	vertical-align:middle;
	display:inline-block;
	border:none;
	height: 50px;
	text-align: center;
	font-weight:700;
	width:200px;
	margin:auto;
	border-radius: 10px;
	background: #006DF0;
	color: #fff;
	font-size: 1.2rem;
	
}

#updateBtn:hover, #deleteBtn:hover, #saveBtn:hover, #goList:hover, #frm #btnPostNum:hover, #frm #idChk:hover{
	background: #ffd77a;
	color:#333;
	transition:all 1s;
}

/* 기본적으로는 보더가 없는 상태 */
input, textarea {
    border: none;
/*     outline: none; /* 입력 포커스 시에도 외곽선 제거 */ */
}

/* 호버 시에만 보더를 추가 */
input:hover, textarea:hover {
    background: #ffd77a;
	color:#333;
	transition:all 1s;
}

/* 입력 포커스 시에도 보더를 추가 */
input:focus,, textarea:focus {
   background: #ffd77a;
	color:#333;
	transition:all 1s;
}

select {
	width:17px;
	border: none;
	appearance: none;
}
</style>
<script src="/resources/js/jspdf.min.js"></script>
<script src="/resources/js/bluebird.min.js"></script>
<script src="/resources/js/html2canvas.min.js"></script>
<script src="/resources/js/jquery.min.js"></script>


<script>
const docCode = '${sanctnDocVO.docCode}';
const clasStdntCode = '${sanctnDocVO.clasStdntCode}';
const cmmnGrade = '${sanctnDocVO.clasVO.cmmnGrade}';
// const exprnLrnBgnde = $("#exprnLrnBgnde");
const exprnLrnBgndeVal = '${sanctnDocVO.exprnLrnBgnde}';

//오늘의 날짜를 가져오는 함수
function getTodayDate(){
	var selectDate = new Date();
	var d = selectDate.getDate();
	var m = selectDate.getMonth() + 1;
	var y = selectDate.getFullYear();
   
	if(m < 10) m = "0" + m;
	if(d < 10) d = "0" + d;
   
	return y + "-" + m + "-" + d; 
}

/* pdf파일로 저장하는 function */
// function pdfPrint(){
// 	 html2canvas($('#pdfDiv')[0]).then(function(canvas) { //저장 영역 div id
// 		// 캔버스를 이미지로 변환
// 		var imgData = canvas.toDataURL('image/png');
			     
// 	    var imgWidth = 190; // 이미지 가로 길이(mm) / A4 기준 210mm
// 	    var pageHeight = imgWidth * 1.414;  // 출력 페이지 세로 길이 계산 A4 기준
// 	    var imgHeight = canvas.height * imgWidth / canvas.width;
// 	    var heightLeft = imgHeight;
// 	    var margin = 10; // 출력 페이지 여백설정
// 	    var doc = new jsPDF('p', 'mm');
// 	    var position = 0;
		       
// 	    // 첫 페이지 출력
// 	    doc.addImage(imgData, 'PNG', margin, position, imgWidth, imgHeight);
// 	    heightLeft -= pageHeight;
		         
// 	    // 한 페이지 이상일 경우 루프 돌면서 출력
// 	    while (heightLeft >= 20) {
// 	        position = heightLeft - imgHeight;
// 	        doc.addPage();
// 	        doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
// 	        heightLeft -= pageHeight;
// 	    }
		 
// 	    // 파일 저장
// 	    doc.save('file-name.pdf');
// 	});
// }

window.onload = function() {
	/* 신청서 삭제 */
	$("#deleteBtn").on("click",function(){
		if(!confirm("삭제하시겠습니까?")){
			alert("삭제가 취소되었습니다.");
			return;
		}
		var data = {
			"docCode":docCode
		};
		
		$.ajax({
			url:"/approval/approvalDelete",
			contentType:"application/json;charset=utf-8",
			data:JSON.stringify(data),
			type:"post",
			dataType:"json",
			beforeSend:function(xhr){
				xhr.setRequestHeader("${_csrf.headerName}","${_csrf.token}");
			},
			success:function(result){
				if(result==1){
					alert("게시글이 성공적으로 삭제되었습니다.");
					location.href="/approval/approvalList?clasStdntCode="+clasStdntCode; //체험학습 신청 목록으로
				}else{
					alert("게시글 삭제가 실패했습니다.");
				}
			}
		});
	});
	
	/* 저장버튼 클릭 */
	$("#saveBtn").on("click",function(){
		console.log("clicked saveBtn");
		
// 		$("#exprnLrnBgnde").attr('disabled', true);
// 		$("#exprnLrnEndde").attr('disabled', true);
// 		//radio버튼 눌림 방지 
// 	    $("input[type='radio']").attr("onclick", "return false;");	
// 		$("#purps").attr('disabled', true);
// 		$("#dstn").attr('disabled', true);
// 		$("#docCn").attr('disabled', true);
// 		$("#rqstDe").attr('disabled', true);
		
		//학습형태가 없을 때 
		if(document.querySelector('input[name="lrnStle"]:checked') == null || document.querySelector('input[name="lrnStle"]:checked') == ''){
			alertError('학습형태를 선택해주세요.', ' ');
			return;
		}
		
		let docCode = document.querySelector("#docCode").value;
		let cmmnDocKnd = document.querySelector("#cmmnDocKnd").value;
		let stdntId = document.querySelector("#stdntId").value;
		let exprnLrnBgnde = document.querySelector("#exprnLrnBgnde").value;
		let exprnLrnEndde = document.querySelector("#exprnLrnEndde").value;
		let lrnStle = document.querySelector('input[name="lrnStle"]:checked').value;
		let purps = document.querySelector("#purps").value;
		let dstn = document.querySelector("#dstn").value;
		let stdnprntId = document.querySelector("#stdnprntId").value;
		let docCn = document.querySelector("#docCn").value;
		let rqstDe = getTodayDate();
		let schulCode = document.querySelector("#schulCode").value;
		let clasStdntCode = document.querySelector("#clasStdntCode").value;
		
		//체험학습시작일이 없을 때 
		if(exprnLrnBgnde == 'null' || exprnLrnBgnde == ''){
			alertError('체험학습시작일을 선택해주세요.', ' ');
			$("#exprnLrnBgnde").focus();
			return;
		}
		
		//체험학습종료일이 없을 때 
		if(exprnLrnEndde == 'null' || exprnLrnEndde == ''){
			alertError('체험학습종료일을 선택해주세요.', ' ');
			$("#exprnLrnEndde").focus();
			return;
		}
		
		//목적이 없을 때 
		if(purps == 'null' || purps == ''){
			alertError('목적을 입력해주세요.', ' ');
			$("#purps").focus();
			return;
		}
		
		//목적지가 없을 때 
		if(dstn == 'null' || dstn == ''){
			alertError('목적지를 입력해주세요.', ' ');
			$("#dstn").focus();
			return;
		}
		
		//체험학습계획이 없을 때 
		if(docCn == 'null' || docCn == ''){
			alertError('체험학습계획을 입력해주세요.', ' ');
			$("#docCn").focus();
			return;
		}
		
		let fieldStudyApplyFrm = new FormData($("#fieldStudyApplyFrm")[0]);
		fieldStudyApplyFrm.append("docCode",docCode);
		fieldStudyApplyFrm.append("cmmnDocKnd",cmmnDocKnd);
		fieldStudyApplyFrm.append("stdntId",stdntId);
		fieldStudyApplyFrm.append("exprnLrnBgnde",exprnLrnBgnde);
		fieldStudyApplyFrm.append("exprnLrnEndde",exprnLrnEndde);
// 		fieldStudyApplyFrm.append("lrnStle",lrnStle);
// 		fieldStudyApplyFrm.append("purps",purps);
// 		fieldStudyApplyFrm.append("dstn",dstn);
		fieldStudyApplyFrm.append("stdnprntId",stdnprntId);
// 		fieldStudyApplyFrm.append("docCn",docCn);
		fieldStudyApplyFrm.append("rqstDe",rqstDe);
		fieldStudyApplyFrm.append("schulCode",schulCode);
		fieldStudyApplyFrm.append("clasStdntCode",clasStdntCode);
		
		$.ajax({
			url:"/approval/approvalUpdate",
			processData:false,
			contentType:false,
			data:fieldStudyApplyFrm,
			type:"post",
			dataType:"json",
			beforeSend:function(xhr){
				xhr.setRequestHeader("${_csrf.headerName}","${_csrf.token}");
			},
			success:function(result){
				console.log("result@@:",result);
				console.log("result!!!!!!!!!!!!!!!!!!!:",result.exprnLrnBgnde);
				//result : SanctnDocVO
				
				$("#updateDiv").css("display","block");
				$("#saveDiv").css("display","none");
				
				var Toast = Swal.mixin({
					toast: true,
					position: 'top-end',
					showConfirmButton: true,
					timer: 3000
				});
				Toast.fire({
					icon:'info',
					title:'수정 성공!'
				});
				
				//동기방식
// 				location.reload(true);
				
				let fieldStudyApplyFrm = $("#fieldStudyApplyFrm");
				let lrnStle = result.lrnStle; // 변수 선언 시 let 키워드 추가
				
				console.log("lrnStle", lrnStle);
				
				
				//비동기방식
				let str = "";
				$("#pdfDiv").html("");
				
				str += "<form id='fieldStudyApplyFrm' name='fieldStudyApplyFrm' method='post'>";
				str += "<input type='text' id='docCode' name='docCode' style='display: none;' value='"+result.docCode+"' disabled>";
				str += "<input type='text' id='cmmnDocKnd' name='cmmnDocKnd' style='display: none;' value='A25001' disabled>";
				str += "<input type='text' id='clasStdntCode' name='clasStdntCode' style='display: none;' value='"+result.clasStdntCode+"' disabled>";
				str += "<p class=a style='margin-left:10.0pt;text-indent:-10.0pt;line-height:116%'><span";
				str += "style='font-size:12.0pt;line-height:116%'>&nbsp;</span></p>";
				str += "<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0";
				str += "style='border-collapse:collapse;border:none'>";
				str += "<tr style='height:13.8pt'>";
				str += "<td width=420 colspan=8 rowspan=3 style='width:315.1pt;border-top:none;";
				str += "border-left:none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;";
				str += "padding:1.4pt 1.4pt 1.4pt 1.4pt;height:13.8pt'>";
				str += "<p class=a align=center style='text-align:center;word-break:normal'><span";
				str += "lang=ZH-CN style='font-size:20.0pt;line-height:103%;font-family:'HY울릉도M',serif;";
				str += "color:#353535'>교외체험학습 신청서</span></p>";
				str += "</td>";
				str += "<td width=23 rowspan=3 style='width:16.95pt;border:solid gray 1.0pt;";
				str += "border-left:none;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:13.8pt'>";
				str += "<p class=a align=center style='text-align:center;word-break:normal'><span";
				str += "lang=ZH-CN style='font-size:10.5pt;line-height:103%;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>결</span></p>";
				str += "<p class=a align=center style='text-align:center;word-break:normal'><span";
				str += "lang=ZH-CN style='font-size:10.5pt;line-height:103%;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>재</span></p>";
				str += "</td>";
				str += "<td width=99 colspan=2 style='width:74.35pt;border:solid gray 1.0pt;";
				str += "border-left:none;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:13.8pt'>";
				str += "<p class=a align=center style='text-align:center;word-break:normal'><span";
				str += "lang=ZH-CN style='font-size:10.5pt;line-height:103%;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>담임</span></p>";
				str += "<input type='text' id='tcherId' name='tcherId' style='display: block;'>";
				str += "</td>";
				str += "<td width=99 colspan=2 style='width:74.35pt;border:solid gray 1.0pt;";
				str += "border-left:none;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:13.8pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:GulimChe'>교감</span></p>";
				str += "<input type='text' id='deputyPrncpalId' name='tcherId' style='display: block;'>";
				str += "</td>";
				str += "</tr>";
				str += "<tr style='height:13.8pt'>";
				str += "<td width=99 colspan=2 rowspan=2 style='width:74.35pt;border-top:none;";
				str += "border-left:none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;";
				str += "padding:1.4pt 1.4pt 1.4pt 1.4pt;height:65.8pt'>";
				str += "<p id='tcherSanctn' class=a align=center style='text-align:center;word-break:normal'><span";
				str += "style='font-size:11.0pt;line-height:103%;font-family:GulimChe'>&nbsp;</span></p>";
				str += "</td>";
				str += "<td width=38 style='width:28.35pt;border-top:none;border-left:none;";
				str += "border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:1.4pt 1.4pt 1.4pt 1.4pt;";
				str += "height:13.8pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:GulimChe'>전결</span></p>";
				str += "</td>";
				str += "<td width=61 style='width:46.0pt;border:none;border-right:solid gray 1.0pt;";
				str += "padding:1.4pt 1.4pt 1.4pt 1.4pt;height:15.8pt'>";
				str += "<p id='deputyPrncpalSanctn' class=a align=center style='text-align:center;word-break:normal'><span";
				str += "style='font-size:11.0pt;line-height:103%;font-family:GulimChe'>&nbsp;</span></p>";
				str += "</td>";
				str += "</tr>";
				str += "<tr style='height:13.8pt'>";
				str += "<td width=99 colspan=2 style='width:74.35pt;border-top:none;border-left:none;";
				str += "border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:1.4pt 1.4pt 1.4pt 1.4pt;";
				str += "height:15.8pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal; word-break:normal;'>";
				str += "<span style='font-size:11.0pt;font-family:GulimChe'>&nbsp;</span></p>";
				str += "</td>";
				str += "</tr>";
				str += "<tr style='height:26.15pt'>";
				str += "<td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;";
				str += "background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:26.15pt'>";
				str += "<input type='text' id='stdntId' name='stdntId' style='display: none;' value='"+result.stdntId+"' disabled>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>성명</span></p>";
				str += "</td>";
				str += "<td width=173 colspan=3 style='width:129.5pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:26.15pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span style='font-size:11.0pt;font-family:GulimChe;";
				str += "letter-spacing:-.35pt'>"+result.familyRelateVO.stdntVO.mberNm+"</span></p>";
				str += "</td>";
				str += "<td width=62 colspan=2 style='width:46.35pt;border-top:none;border-left:none;";
				str += "border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F1F1F1;";
				str += "padding:1.4pt 1.4pt 1.4pt 1.4pt;height:26.15pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:'Gulim',sans-serif;";
				str += "color:#1B1760;letter-spacing:-.35pt'>학년 반</span></p>";
				str += "</td>";
				str += "<td width=337 colspan=7 style='width:252.6pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:26.15pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>     ";
				str += "<span lang=ZH-CN id='cmmnGrade'></span><span lang=ZH-CN>학년</span> ";
				str += "<input type='text' id='clasCode' name='clasCode' style='display: none'> ";
				str += "<span lang=ZH-CN>"+result.clasVO.clasNm+"</span>  ";
				str += result.clasStdntVO.clasInNo+"<span lang=ZH-CN>번</span></span>";
				str += "</p>";
				str += "</td>";
				str += "</tr>";
				str += "<tr style='height:21.35pt'>";
				str += "<td width=70 rowspan=1 style='width:52.4pt;border:solid gray 1.0pt;";
				str += "border-top:none;background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;";
				str += "height:21.35pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>기간</span></p>";
				str += "</td>";
				str += "<td width=43 rowspan=1 style='width:.45in;border-top:none;border-left:none;";
				str += "border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F2F2F2;";
				str += "padding:1.4pt 1.4pt 1.4pt 1.4pt;height:21.35pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span style='font-size:10.5pt;font-family:'휴먼명조',serif'>1</span><span";
				str += "lang=ZH-CN style='font-size:10.5pt'>일</span><span lang=ZH-CN";
				str += "style='font-size:10.5pt;font-family:'휴먼명조',serif'> </span></p>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:10.5pt'>단위</span></p>";
				str += "</td>";
				str += "<td width=129 colspan=2 style='width:97.1pt;border-top:none;border-left:none;";
				str += "border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:1.4pt 1.4pt 1.4pt 1.4pt;";
				str += "height:21.35pt'>";
				str += "<p class=a align=center style='text-align:center;word-break:normal'><span";
				str += "lang=ZH-CN>신청 기간</span>(<span lang=ZH-CN>보호자</span>)</p>";
				str += "</td>";
				str += "<td width=399 colspan=9 style='width:298.95pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:21.35pt'>";
				str += "<p class=a style='line-height:normal; text-align: center;'><span style='font-size:10.5pt;";
				str += "font-family:'Gulim',sans-serif;color:#353535'>";
				str += "<input type='date' id='exprnLrnBgnde' name='exprnLrnBgnde' value='"+dateFormat(result.exprnLrnBgnde)+"' disabled>";
				str += "~ ";
				str += "<input type='date' id='exprnLrnEndde' name='exprnLrnEndde' value='"+dateFormat(result.exprnLrnEndde)+"' disabled></span></p>"; 
				str += "</td>";
				str += "</tr>";
				str += "<tr style='height:25.25pt'>";
				str += "<td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;";
				str += "background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>학습형태</span></p>";
				str += "</td>";
				str += "<td width=571 colspan=12 style='width:428.45pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'> </span>";
				str += "<input type='radio' id='lrnStle1' name='lrnStle' value='가족행사 참여를 통한 체험학습'>";
				str += "<span lang=ZH-CN style='font-size:11.0pt;font-family:";
				str += "'휴먼명조',serif;letter-spacing:-.55pt'><label for='lrnStle1'>가족행사 참여를 통한 체험학습</label></span><span";
				str += "style='font-size:10.5pt;font-family:'휴먼명조',serif;color:#353535'>      </span>";
				str += "<input type='radio' id='lrnStle2' name='lrnStle' value='주제가 있는 체험학습'>";
				str += "<span lang=ZH-CN style='font-size:11.0pt;font-family:'휴먼명조',serif;letter-spacing:";
				str += "-.55pt'><label for='lrnStle2'>주제가 있는 체험학습</label></span><span style='font-size:11.0pt;font-family:'휴먼명조',serif;";
				str += "letter-spacing:-.55pt'>       </span></p>";
				str += "</td>";
				str += "</tr>";
				str += "<tr style='height:25.1pt'>";
				str += "<td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;";
				str += "background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.1pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>목적</span></p>";
				str += "</td>";
				str += "<td width=343 colspan=6 style='width:257.05pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:25.1pt'>";
				str += "<input type='text' id='purps' name='purps' style='text-align:center; font-family:GulimChe; width: 361px;' value='"+result.purps+"' disabled>";
				str += "</td>";
				str += "<td width=88 colspan=3 style='width:65.85pt;border-top:none;border-left:none;";
				str += "border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F2F2F2;";
				str += "padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.1pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>목적지</span></p>";
				str += "</td>";
				str += "<td width=141 colspan=3 style='width:105.5pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:25.1pt'>";
				str += "<input type='text' id='dstn' name='dstn' style='text-align:center; font-family:GulimChe; width: 221px;' value='"+result.dstn+"' disabled>";
				str += "</td>";
				str += "</tr>";
				str += "<tr style='height:25.25pt'>";
				str += "<td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;";
				str += "background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>";
				str += "<input type='text' id='stdnprntId' name='stdnprntId' style='display: none;' value='"+result.stdnprntId+"' disabled>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:'Gulim',sans-serif;";
				str += "letter-spacing:-.35pt'>보호자명</span></p>";
				str += "</td>";
				str += "<td width=137 colspan=2 style='width:102.65pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span style='font-size:11.0pt;font-family:GulimChe;";
				str += "letter-spacing:-.35pt'>"+result.familyRelateVO.parentMemberVO.mberNm+"</span></p>";
				str += "</td>";
				str += "<td width=92 colspan=2 style='width:68.7pt;border-top:none;border-left:none;";
				str += "border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F2F2F2;";
				str += "padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>관계</span></p>";
				str += "</td>";
				str += "<td width=114 colspan=2 style='width:85.65pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>";
				str += "<p class=a style='line-height:normal; text-align:center;'><span style='font-size:11.0pt;";
				str += "font-family:GulimChe;letter-spacing:-.35pt'>"+result.familyRelateVO.cmmnDetailCode+"</span></p>";
				str += "</td>";
				str += "<td width=88 colspan=3 style='width:65.85pt;border-top:none;border-left:none;";
				str += "border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F2F2F2;";
				str += "padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:'Gulim',sans-serif;";
				str += "letter-spacing:-.35pt'>연락처</span></p>";
				str += "</td>";
				str += "<td width=141 colspan=3 style='width:105.5pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>";
				str += "<p class=a style='line-height:normal; text-align:center;'><span style='font-size:11.0pt;";
				str += "font-family:GulimChe;letter-spacing:-.35pt'>"+result.familyRelateVO.parentMemberVO.moblphonNo+"</span></p>";
				str += "</td>";
				str += "</tr>";
				str += "<tr style='height:122.75pt'>";
				str += "<td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;";
				str += "background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:122.75pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>교외체험</span></p>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:'Gulim',sans-serif;";
				str += "color:#353535'>학습계획</span></p>";
				str += "</td>";
				str += "<td width=571 colspan=12 style='width:428.45pt;border-top:none;border-left:";
				str += "none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:122.75pt; text-align: center;'>";
				str += "<textarea id='docCn' name='docCn' style='width: 711px; height: 154px;' disabled>"+result.docCn+"</textarea>";
				str += "</td>";
				str += "</tr>";
				str += "<tr style='height:88.3pt'>";
				str += "<td width=641 colspan=13 style='width:480.9pt;border-top:none;border-left:";
				str += "solid gray 1.0pt;border-bottom:none;border-right:solid gray 1.0pt;padding:";
				str += "1.4pt 1.4pt 1.4pt 1.4pt;height:88.3pt'>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><b><span lang=ZH-CN>위와</span></b><b><span lang=ZH-CN";
				str += "style='font-family:'휴먼명조',serif'> </span></b><b><span lang=ZH-CN>같이</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif'> </span></b><b><span lang=ZH-CN>교외체험학습을</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif'> </span></b><b><span lang=ZH-CN>신청합니다</span></b><b><span";
				str += "style='font-family:'휴먼명조',serif'>. </span></b></p>";
				str += "<div align=center>";
				str += "<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0";
				str += "style='border-collapse:collapse;border:none'>";
				str += "<tr style='height:51.85pt'>";
				str += "<td width=626 style='width:469.85pt;border:solid black 1.0pt;padding:1.4pt 5.1pt 1.4pt 5.1pt;";
				str += "height:51.85pt'>";
				str += "<p class=a style='line-height:116%'><span style='color:red;letter-spacing:";
				str += "-.35pt'> </span><b><span style='font-family:'휴먼명조',serif;color:red;";
				str += "letter-spacing:-.35pt'>(</span></b><b><span lang=ZH-CN style='color:red;";
				str += "letter-spacing:-.35pt'>연속</span></b><b><span style='font-family:'휴먼명조',serif;";
				str += "color:red;letter-spacing:-.35pt'>) 5</span></b><b><span lang=ZH-CN";
				str += "style='color:red;letter-spacing:-.35pt'>일</span></b><b><span lang=ZH-CN";
				str += "style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'> </span></b><b><span";
				str += "lang=ZH-CN style='color:red;letter-spacing:-.35pt'>이상</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>교외체험학습</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>시</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></b><b><u><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>주</span></u></b><b><u><span";
				str += "style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>1</span></u></b><b><u><span";
				str += "lang=ZH-CN style='color:red;letter-spacing:-.35pt'>회</span></u></b><b><u><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></u></b><b><u><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>이상</span></u></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>학생이</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>담임교사와</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></b><b><u><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>통화</span></u></b><b><span";
				str += "lang=ZH-CN style='color:red;letter-spacing:-.35pt'>하여</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>안전</span></b><b><span";
				str += "style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>, </span></b><b><span";
				str += "lang=ZH-CN style='color:red;letter-spacing:-.35pt'>건강을</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>확인</span></b><b><span";
				str += "lang=ZH-CN style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>";
				str += "</span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>시키겠습니다</span></b><b><span";
				str += "style='font-family:'휴먼명조',serif;color:red;letter-spacing:-.35pt'>. </span></b></p>";
				str += "<p class=a style='line-height:116%'><b><span style='font-family:'휴먼명조',serif;";
				str += "color:red'>                                 </span></b><b><span";
				str += "style='font-family:'Arial Unicode MS',sans-serif;color:red'>";
				str += "	<i class='fa-regular fa-square-check' style='color:black'></i>";
				str += "</span></b><b><span";
				str += "style='font-family:'휴먼명조',serif;color:red'> </span></b><b><span lang=ZH-CN";
				str += "style='color:black'>동의합니다</span></b></p>";
				str += "</td>";
				str += "</tr>";
				str += "</table>";
				str += "</div>";
				str += "<p class=MsoNormal><span style='font-size:1.0pt'>&nbsp;</span></p>";
				str += "<p class=a align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span style='font-size:10.5pt;font-family:'Gulim',sans-serif'>&nbsp;</span></p>";
				str += "</td>";
				str += "</tr>";
				str += "<tr>";
				str += "<td width=641 colspan=13 style='width:480.9pt;border:solid gray 1.0pt;";
				str += "border-top:none;padding:1.4pt 1.4pt 1.4pt 1.4pt'>";
				str += "<p class=a id='rqstDe' align=center style='text-align:center;line-height:normal;";
				str += "word-break:normal'><span style='font-size:12.0pt;font-family:GulimChe;";
				str += "letter-spacing:-.4pt'> ";
				str += dateFormat(result.rqstDe);
				str += "</span>";
				str += "</p>";
				str += "<div style='display: flex; justify-content: flex-end;'>";
				str += "  <div style='margin-right: 10px;'>";
				str += "	  <div class=a align=right style='text-align:right;line-height:normal;word-break:";
				str += "	  normal'><span lang=ZH-CN style='font-size:13.0pt;font-family:GulimChe;";
				str += "	  letter-spacing:-.45pt; margin-right: 9px;'>학&nbsp;생</span></div>";
				str += "	  <div class=a align=right style='text-align:right;line-height:normal;word-break:";
				str += "	  normal'><span lang=ZH-CN style='font-size:13.0pt;font-family:GulimChe;";
				str += "	  letter-spacing:-.45pt; margin-right: 9px;'>가&nbsp;족</span></div>";
				str += "  </div>";
				str += "  <div style='margin-right: 10px;'>";
				str += "	  <div class=a align=right style='text-align:right;line-height:normal;word-break:";
				str += "	  normal'><span lang=ZH-CN style='font-size:13.0pt;font-family:GulimChe;";
				str += "	  letter-spacing:-.45pt'>"+result.familyRelateVO.stdntVO.mberNm+"</span></div>";
				str += "	  <div class=a align=right style='text-align:right;line-height:normal;word-break:";
				str += "	  normal'><span lang=ZH-CN style='font-size:13.0pt;font-family:GulimChe;";
				str += "	  letter-spacing:-.45pt'>"+result.familyRelateVO.parentMemberVO.mberNm+"</span></div>";
				str += "  </div>";
				str += "  <div>";
				str += "	  <div>(<span style='font-size:11.0pt; font-family:GulimChe; letter-spacing:-.35pt' lang=ZH-CN>인</span>)</div>";
				str += "	  <div>(<span style='font-size:11.0pt; font-family:GulimChe; letter-spacing:-.35pt' lang=ZH-CN>인</span>)</div>";
				str += "  </div>";
				str += "</div>";
				str += "<input type='text' id='schulCode' name='schulCode' style='display: none;' value='"+result.schulCode+"' disabled>";
				str += "<p class=a style='line-height:normal'><span lang=ZH-CN style='font-size:10.5pt;";
				str += "font-family:'Gulim',sans-serif;color:#353535'>"+result.schulVO.schulNm+"장 귀하</span></p>";
				str += "</td>";
				str += "</tr>";
				str += "<tr height=0>";
				str += "<td width=70 style='border:none'></td>";
				str += "<td width=43 style='border:none'></td>";
				str += "<td width=94 style='border:none'></td>";
				str += "<td width=36 style='border:none'></td>";
				str += "<td width=56 style='border:none'></td>";
				str += "<td width=6 style='border:none'></td>";
				str += "<td width=108 style='border:none'></td>";
				str += "<td width=8 style='border:none'></td>";
				str += "<td width=23 style='border:none'></td>";
				str += "<td width=58 style='border:none'></td>";
				str += "<td width=41 style='border:none'></td>";
				str += "<td width=38 style='border:none'></td>";
				str += "<td width=62 style='border:none'></td>";
				str += "</tr>";
				str += "</table>";
				str += "</form>";
				str += "<div>";
				str += "<p class=a style='line-height:normal'><span style='font-family:'휴먼명조',serif'> </span><span";
				str += "lang=ZH-CN style='font-size:11.0pt;font-family:'휴먼명조',serif'>교외체험학습 규정에 의거 학습기간";
				str += "중 성실히 체험학습에 임하며 제반 규정을 준수하고 만약의 경우 야기되는<br> ";
				str += "모든 사항에 대하여 보호자와 학생이 전적으로 책임을 져야 한다는 것을 확인합니다</span><span";
				str += "style='font-size:11.0pt;font-family:'휴먼명조',serif'>.</span></p>";
				str += "<p class=a style='line-height:130%; margin-top:10px;'>";
				str += "※ 1일 단위, 반일(12시 30분 기준) 단위 운영 가능&#13;&#10;<br>";
				str += "※ 체험학습의 목적 및 학습계획(일정, 장소, 활동내용 등)을 구체적으로 작성&#13;&#10;<br>";
				str += "※ 체험학습 참가 1일 전까지 학교장에게 신청서 제출 및 승인 (전날까지 제출하지 않고 체험학습을 실시할 경우 미인정결석으로 처리)&#13;&#10;<br>";
				str += "※ 보호자가 신청서를 제출하였다 하여 체험학습이 허가된 것이 아니며 담임교사로부터 최종 허가 여부를 연락(전화 또는 문자) <br>";
				str += "&nbsp;&nbsp;&nbsp;&nbsp;받은 후 실시하여야 함&#13;&#10;";
				str += "</p>";
				str += "<span style='font-size:11.0pt;font-family:'Malgun Gothic',sans-serif'><br";
				str += "clear=all style='page-break-before:always'>";
				str += "</span>";
				str += "</div>";
				
				$("#pdfDiv").append(str); 
				
				if (lrnStle === "가족행사 참여를 통한 체험학습") {
				    $("#lrnStle1").prop("checked", true); // lrnStle1에 체크 설정
				} else {
				    $("#lrnStle2").prop("checked", true); // lrnStle2에 체크 설정
				}
				
				// 체험학습시작일 시작 날짜를 클릭하면 오늘 이후로 날짜가 시작
				$('#exprnLrnBgnde').attr('min', getTodayDate());
				
				// 체험학습시작일 시작 날짜를 클릭하면 종료 날짜의 최소 시작 날짜가 시작 날짜로 설정
				$("#exprnLrnBgnde").on("input", function(){
					let exprnLrnBgnde = $("#exprnLrnBgnde").val();
					$("#exprnLrnEndde").attr("min", exprnLrnBgnde);
				});
			}
		});
	});
	
	/* 수정버튼 클릭 */
	$("#updateBtn").on("click",function(){
		$("#updateDiv").css("display","none");
		$("#saveDiv").css("display","block");
		$("#exprnLrnBgnde").removeAttr('disabled');
		$("#exprnLrnEndde").removeAttr('disabled');
		//radio버튼 눌림 방지 해제
	    $("input[type='radio']").attr("onclick", "return true;");	
		$("#purps").removeAttr('disabled');
		$("#dstn").removeAttr('disabled');
		$("#docCn").removeAttr('disabled');
		$("#rqstDe").removeAttr('disabled');
	});
	
	console.log("exprnLrnBgndeVal!",modelDateFormat(exprnLrnBgndeVal));
	
	switch (cmmnGrade) {
	  case "A22001":
		document.querySelector("#cmmnGrade").innerText = "1";
	    break;
	  case "A22002":
		document.querySelector("#cmmnGrade").innerText = "2";
	    break;
	  case "A22003":
		document.querySelector("#cmmnGrade").innerText = "3";
	    break;
	  case "A22004":
		document.querySelector("#cmmnGrade").innerText = "4";
	    break;
	  case "A22005":
		document.querySelector("#cmmnGrade").innerText = "5";
	    break;
	  case "A22006":
		document.querySelector("#cmmnGrade").innerText = "6";
	    break;
	}
	
	let fieldStudyApplyFrm = document.fieldStudyApplyFrm;
    let lrnStle = '${sanctnDocVO.lrnStle}';
    console.log("lrnStle",lrnStle);

    if( lrnStle === "가족행사 참여를 통한 체험학습" ) {
    	fieldStudyApplyFrm.lrnStle[0].checked = true;          
    } else {
    	fieldStudyApplyFrm.lrnStle[1].checked = true;
    }
    
    //radio버튼 눌림 방지
    $("input[type='radio']").attr("onclick", "return false;");	
    
//     	pdfPrint();
	
	// 체험학습시작일 시작 날짜를 클릭하면 오늘 이후로 날짜가 시작
	$('#exprnLrnBgnde').attr('min', getTodayDate());
	
	// 신청일은 당일로 고정
// 	$('#rqstDe').attr('min', getTodayDate());
// 	$('#rqstDe').attr('max', getTodayDate());
	
	// 체험학습시작일 시작 날짜를 클릭하면 종료 날짜의 최소 시작 날짜가 시작 날짜로 설정
	$("#exprnLrnBgnde").on("input", function(){
		let exprnLrnBgnde = $("#exprnLrnBgnde").val();
		$("#exprnLrnEndde").attr("min", exprnLrnBgnde);
	});
	
}
</script>
<%-- <p>체험학습 신청 정보 : ${sanctnDocVO} </p> --%>
<%-- <p>파라미터 : ${param} </p> --%>
<div class=WordSection1 id="pdfDiv" style="width: 50%; margin: auto;">
<form id="fieldStudyApplyFrm" name="fieldStudyApplyFrm" method="post">
<input type="text" id="docCode" name="docCode" style="display: none;" value="${sanctnDocVO.docCode}" disabled>
<input type="text" id="cmmnDocKnd" name="cmmnDocKnd" style="display: none;" value="A25001" disabled>
<input type="text" id="clasStdntCode" name="clasStdntCode" style="display: none;" value="${sanctnDocVO.clasStdntCode}" disabled>
<p class=a style='margin-left:10.0pt;text-indent:-10.0pt;line-height:116%'><span
style='font-size:12.0pt;line-height:116%'>&nbsp;</span></p>
<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:13.8pt'>
  <td width=420 colspan=8 rowspan=3 style='width:315.1pt;border-top:none;
  border-left:none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;
  padding:1.4pt 1.4pt 1.4pt 1.4pt;height:13.8pt'>
  <p class=a align=center style='text-align:center;word-break:normal'><span
  lang=ZH-CN style='font-size:20.0pt;line-height:103%;font-family:"HY울릉도M",serif;
  color:#353535'>교외체험학습 신청서</span></p>
  </td>
  <td width=23 rowspan=3 style='width:16.95pt;border:solid gray 1.0pt;
  border-left:none;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:13.8pt'>
  <p class=a align=center style='text-align:center;word-break:normal'><span
  lang=ZH-CN style='font-size:10.5pt;line-height:103%;font-family:"Gulim",sans-serif;
  color:#353535'>결</span></p>
  <p class=a align=center style='text-align:center;word-break:normal'><span
  lang=ZH-CN style='font-size:10.5pt;line-height:103%;font-family:"Gulim",sans-serif;
  color:#353535'>재</span></p>
  </td>
  <td width=99 colspan=2 style='width:74.35pt;border:solid gray 1.0pt;
  border-left:none;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:13.8pt'>
  <p class=a align=center style='text-align:center;word-break:normal'><span
  lang=ZH-CN style='font-size:10.5pt;line-height:103%;font-family:"Gulim",sans-serif;
  color:#353535'>담임</span></p>
  <input type="text" id="tcherId" name="tcherId" style="display: block;">
  </td>
  <td width=99 colspan=2 style='width:74.35pt;border:solid gray 1.0pt;
  border-left:none;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:13.8pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:GulimChe'>교감</span></p>
  <input type="text" id="deputyPrncpalId" name="tcherId" style="display: block;">
  </td>
 </tr>
 <tr style='height:13.8pt'>
 
 
 
  <td width=99 colspan=2 rowspan=2 style='width:74.35pt;border-top:none;
  border-left:none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;
  padding:1.4pt 1.4pt 1.4pt 1.4pt;height:65.8pt'>
  <p id="tcherSanctn" class=a align=center style='text-align:center;word-break:normal'><span
  style='font-size:11.0pt;line-height:103%;font-family:GulimChe'>&nbsp;</span></p>
<!--   <img src="/upload/sign/image.png"> -->
<!-- 	<input type="text" style='text-align:center; font-family:GulimChe; margin-top: 21px;'> -->
  </td>
  
  
  <td width=38 style='width:28.35pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:1.4pt 1.4pt 1.4pt 1.4pt;
  height:13.8pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:GulimChe'>전결</span></p>
  </td>
  
  
  <td width=61 style='width:46.0pt;border:none;border-right:solid gray 1.0pt;
  padding:1.4pt 1.4pt 1.4pt 1.4pt;height:15.8pt'>
  <p id="deputyPrncpalSanctn" class=a align=center style='text-align:center;word-break:normal'><span
  style='font-size:11.0pt;line-height:103%;font-family:GulimChe'>&nbsp;</span></p>
  </td>
  
  
 </tr>
 <tr style='height:13.8pt'>
  <td width=99 colspan=2 style='width:74.35pt;border-top:none;border-left:none;
  border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:1.4pt 1.4pt 1.4pt 1.4pt;
  height:15.8pt'>
  <p class=a align=center style='text-align:center;line-height:normal; word-break:normal;'>
  <span style='font-size:11.0pt;font-family:GulimChe'>&nbsp;</span></p>
<!-- 	<input type="text" style='text-align:center; font-family:GulimChe;'> -->
  </td>
 </tr>
 
 <tr style='height:26.15pt'>
  <td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;
  background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:26.15pt'>
  <input type="text" id="stdntId" name="stdntId" style="display: none;" value="${sanctnDocVO.stdntId}" disabled>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'>성명</span></p>
  </td>
  <td width=173 colspan=3 style='width:129.5pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:26.15pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span style='font-size:11.0pt;font-family:GulimChe;
  letter-spacing:-.35pt'>${sanctnDocVO.familyRelateVO.stdntVO.mberNm}</span></p>
<!-- 	<input type="text" id="studentId" style='text-align:center; font-family:GulimChe; width: 168px;'> -->
  </td>
  <td width=62 colspan=2 style='width:46.35pt;border-top:none;border-left:none;
  border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F1F1F1;
  padding:1.4pt 1.4pt 1.4pt 1.4pt;height:26.15pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:"Gulim",sans-serif;
  color:#1B1760;letter-spacing:-.35pt'>학년 반</span></p>
  </td>
  <td width=337 colspan=7 style='width:252.6pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:26.15pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'>     
<!--   <select style="width: 30px"> -->
<!--   	<option value="A22001">1</option> -->
<!--   	<option value="A22002">2</option> -->
<!--   	<option value="A22003">3</option> -->
<!--   	<option value="A22004">4</option> -->
<!--   	<option value="A22005">5</option> -->
<!--   	<option value="A22006">6</option> -->
<!--   </select> -->
	<span lang=ZH-CN id="cmmnGrade"></span><span lang=ZH-CN>학년</span> 
	<input type="text" id="clasCode" name="clasCode" style="display: none"> 
	<span lang=ZH-CN>${sanctnDocVO.clasVO.clasNm}</span>  
	${sanctnDocVO.clasStdntVO.clasInNo}<span lang=ZH-CN>번</span></span>
    
<!--   <span lang=ZH-CN>학년</span>    -->
<%--   <input type="text" style='text-align:center; font-family:GulimChe; width: 40px;' value="${CLASS_INFO.clasNm}"> --%>
<!--   <span lang=ZH-CN>반</span>   -->
<!--   <span lang=ZH-CN>반</span>   -->
<%--   <input type="text" style='text-align:center; font-family:GulimChe; width: 30px;' value="${CLASS_STD_INFO.clasInNo}"> --%>
<!--   <span lang=ZH-CN>번</span></span> -->
  </p>
  </td>
 </tr>
 <tr style='height:21.35pt'>
  <td width=70 rowspan=1 style='width:52.4pt;border:solid gray 1.0pt;
  border-top:none;background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;
  height:21.35pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'>기간</span></p>
  </td>
  
  <td width=43 rowspan=1 style='width:.45in;border-top:none;border-left:none;
  border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F2F2F2;
  padding:1.4pt 1.4pt 1.4pt 1.4pt;height:21.35pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span style='font-size:10.5pt;font-family:"휴먼명조",serif'>1</span><span
  lang=ZH-CN style='font-size:10.5pt'>일</span><span lang=ZH-CN
  style='font-size:10.5pt;font-family:"휴먼명조",serif'> </span></p>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:10.5pt'>단위</span></p>
  </td>
  <td width=129 colspan=2 style='width:97.1pt;border-top:none;border-left:none;
  border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:1.4pt 1.4pt 1.4pt 1.4pt;
  height:21.35pt'>
  <p class=a align=center style='text-align:center;word-break:normal'><span
  lang=ZH-CN>신청 기간</span>(<span lang=ZH-CN>보호자</span>)</p>
  </td>
  <td width=399 colspan=9 style='width:298.95pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:21.35pt'>
  <p class=a style='line-height:normal; text-align: center;'><span style='font-size:10.5pt;
  font-family:"Gulim",sans-serif;color:#353535'>
  <input type="date" id="exprnLrnBgnde" name="exprnLrnBgnde" value="<fmt:formatDate value="${sanctnDocVO.exprnLrnBgnde}" pattern="yyyy-MM-dd" />" disabled> 
  ~ 
  <input type="date" id="exprnLrnEndde" name="exprnLrnEndde" value="<fmt:formatDate value="${sanctnDocVO.exprnLrnEndde}" pattern="yyyy-MM-dd" />" disabled></span></p>
  </td>
 </tr>
 <tr style='height:25.25pt'>
  <td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;
  background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'>학습형태</span></p>
  </td>
  <td width=571 colspan=12 style='width:428.45pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'> </span>
  <input type="radio" id="lrnStle1" name="lrnStle" value="가족행사 참여를 통한 체험학습">
  <span lang=ZH-CN style='font-size:11.0pt;font-family:
  "휴먼명조",serif;letter-spacing:-.55pt'><label for="lrnStle1">가족행사 참여를 통한 체험학습</label></span><span
  style='font-size:10.5pt;font-family:"휴먼명조",serif;color:#353535'>      </span>
  <input type="radio" id="lrnStle2" name="lrnStle" value="주제가 있는 체험학습">
  <span lang=ZH-CN style='font-size:11.0pt;font-family:"휴먼명조",serif;letter-spacing:
  -.55pt'><label for="lrnStle2">주제가 있는 체험학습</label></span><span style='font-size:11.0pt;font-family:"휴먼명조",serif;
  letter-spacing:-.55pt'>       </span></p>
  </td>
 </tr>
 <tr style='height:25.1pt'>
  <td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;
  background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.1pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'>목적</span></p>
  </td>
  <td width=343 colspan=6 style='width:257.05pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:25.1pt'>
<!--   <p class=a align=center style='text-align:center;line-height:normal; -->
<!--   word-break:normal'><span style='font-size:11.0pt;font-family:GulimChe; -->
<!--   letter-spacing:-.35pt'>&nbsp;</span></p> -->
	<input type="text" id="purps" name="purps" style='text-align:center; font-family:GulimChe; width: 361px;' value="${sanctnDocVO.purps}" disabled>
  </td>
  <td width=88 colspan=3 style='width:65.85pt;border-top:none;border-left:none;
  border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F2F2F2;
  padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.1pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'>목적지</span></p>
  </td>
  <td width=141 colspan=3 style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:25.1pt'>
<!--   <p class=a align=center style='text-align:center;line-height:normal; -->
<!--   word-break:normal'><span style='font-size:11.0pt;font-family:GulimChe; -->
<!--   letter-spacing:-.35pt'>&nbsp;</span></p> -->
	<input type="text" id="dstn" name="dstn" style='text-align:center; font-family:GulimChe; width: 221px;' value="${sanctnDocVO.dstn}" disabled>
  </td>
 </tr>
 <tr style='height:25.25pt'>
  <td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;
  background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>
  <input type="text" id="stdnprntId" name="stdnprntId" style="display: none;" value="${sanctnDocVO.stdnprntId}" disabled>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:"Gulim",sans-serif;
  letter-spacing:-.35pt'>보호자명</span></p>
  </td>
  <td width=137 colspan=2 style='width:102.65pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>
<!--   <input type="text" id="stdnprntId" > -->
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span style='font-size:11.0pt;font-family:GulimChe;
  letter-spacing:-.35pt'>${sanctnDocVO.familyRelateVO.parentMemberVO.mberNm}</span></p>
<!-- 	<input type="text" class="parentNm" id="parentNm" style='text-align:center; font-family:GulimChe; width:132px;'> -->
  </td>
  <td width=92 colspan=2 style='width:68.7pt;border-top:none;border-left:none;
  border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F2F2F2;
  padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'>관계</span></p>
  </td>
  <td width=114 colspan=2 style='width:85.65pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>
  <p class=a style='line-height:normal; text-align:center;'><span style='font-size:11.0pt;
  font-family:GulimChe;letter-spacing:-.35pt'>${sanctnDocVO.familyRelateVO.cmmnDetailCode}</span></p>
<!-- 	<input type="text" style='text-align:center; font-family:GulimChe; width:132px;'> -->
  </td>
  <td width=88 colspan=3 style='width:65.85pt;border-top:none;border-left:none;
  border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;background:#F2F2F2;
  padding:1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:11.0pt;font-family:"Gulim",sans-serif;
  letter-spacing:-.35pt'>연락처</span></p>
  </td>
  <td width=141 colspan=3 style='width:105.5pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:25.25pt'>
  <p class=a style='line-height:normal; text-align:center;'><span style='font-size:11.0pt;
  font-family:GulimChe;letter-spacing:-.35pt'>${sanctnDocVO.familyRelateVO.parentMemberVO.moblphonNo}</span></p>
<!-- 	<input type="text" id="parentMoblphonNo" style='text-align:center; font-family:GulimChe; width: 221px;'> -->
  </td>
 </tr>
 <tr style='height:122.75pt'>
  <td width=70 style='width:52.4pt;border:solid gray 1.0pt;border-top:none;
  background:#F1F1F1;padding:1.4pt 1.4pt 1.4pt 1.4pt;height:122.75pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'>교외체험</span></p>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span lang=ZH-CN style='font-size:10.5pt;font-family:"Gulim",sans-serif;
  color:#353535'>학습계획</span></p>
  </td>
  <td width=571 colspan=12 style='width:428.45pt;border-top:none;border-left:
  none;border-bottom:solid gray 1.0pt;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:122.75pt; text-align: center;'>
<!--   <p class=a align=center style='text-align:center;line-height:normal; -->
<!--   word-break:normal'><span style='font-size:11.0pt;font-family:GulimChe; -->
<!--   letter-spacing:-.35pt'>&nbsp;</span></p> -->
	<textarea id="docCn" name="docCn" style="width: 711px; height: 154px;" disabled>${sanctnDocVO.docCn}</textarea>
  </td>
 </tr>
 <tr style='height:88.3pt'>
  <td width=641 colspan=13 style='width:480.9pt;border-top:none;border-left:
  solid gray 1.0pt;border-bottom:none;border-right:solid gray 1.0pt;padding:
  1.4pt 1.4pt 1.4pt 1.4pt;height:88.3pt'>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><b><span lang=ZH-CN>위와</span></b><b><span lang=ZH-CN
  style='font-family:"휴먼명조",serif'> </span></b><b><span lang=ZH-CN>같이</span></b><b><span
  lang=ZH-CN style='font-family:"휴먼명조",serif'> </span></b><b><span lang=ZH-CN>교외체험학습을</span></b><b><span
  lang=ZH-CN style='font-family:"휴먼명조",serif'> </span></b><b><span lang=ZH-CN>신청합니다</span></b><b><span
  style='font-family:"휴먼명조",serif'>. </span></b></p>
  <div align=center>
  <table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
   style='border-collapse:collapse;border:none'>
   <tr style='height:51.85pt'>
    <td width=626 style='width:469.85pt;border:solid black 1.0pt;padding:1.4pt 5.1pt 1.4pt 5.1pt;
    height:51.85pt'>
    <p class=a style='line-height:116%'><span style='color:red;letter-spacing:
    -.35pt'> </span><b><span style='font-family:"휴먼명조",serif;color:red;
    letter-spacing:-.35pt'>(</span></b><b><span lang=ZH-CN style='color:red;
    letter-spacing:-.35pt'>연속</span></b><b><span style='font-family:"휴먼명조",serif;
    color:red;letter-spacing:-.35pt'>) 5</span></b><b><span lang=ZH-CN
    style='color:red;letter-spacing:-.35pt'>일</span></b><b><span lang=ZH-CN
    style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'> </span></b><b><span
    lang=ZH-CN style='color:red;letter-spacing:-.35pt'>이상</span></b><b><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>교외체험학습</span></b><b><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>시</span></b><b><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></b><b><u><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>주</span></u></b><b><u><span
    style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>1</span></u></b><b><u><span
    lang=ZH-CN style='color:red;letter-spacing:-.35pt'>회</span></u></b><b><u><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></u></b><b><u><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>이상</span></u></b><b><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>학생이</span></b><b><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>담임교사와</span></b><b><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></b><b><u><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>통화</span></u></b><b><span
    lang=ZH-CN style='color:red;letter-spacing:-.35pt'>하여</span></b><b><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>안전</span></b><b><span
    style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>, </span></b><b><span
    lang=ZH-CN style='color:red;letter-spacing:-.35pt'>건강을</span></b><b><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>확인</span></b><b><span
    lang=ZH-CN style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>
    </span></b><b><span lang=ZH-CN style='color:red;letter-spacing:-.35pt'>시키겠습니다</span></b><b><span
    style='font-family:"휴먼명조",serif;color:red;letter-spacing:-.35pt'>. </span></b></p>
    <p class=a style='line-height:116%'><b><span style='font-family:"휴먼명조",serif;
    color:red'>                                 </span></b><b><span
    style='font-family:"Arial Unicode MS",sans-serif;color:red'>
    	<i class="fa-regular fa-square-check" style="color:black"></i>
    </span></b><b><span
    style='font-family:"휴먼명조",serif;color:red'> </span></b><b><span lang=ZH-CN
    style='color:black'>동의합니다</span></b></p>
    </td>
   </tr>
  </table>
  </div>
  <p class=MsoNormal><span style='font-size:1.0pt'>&nbsp;</span></p>
  <p class=a align=center style='text-align:center;line-height:normal;
  word-break:normal'><span style='font-size:10.5pt;font-family:"Gulim",sans-serif'>&nbsp;</span></p>
  </td>
 </tr>
 
 <tr>
  <td width=641 colspan=13 style='width:480.9pt;border:solid gray 1.0pt;
  border-top:none;padding:1.4pt 1.4pt 1.4pt 1.4pt'>
  <p class=a id="rqstDe" align=center style='text-align:center;line-height:normal;
  word-break:normal'><span style='font-size:12.0pt;font-family:GulimChe;
  letter-spacing:-.4pt'> 
  <fmt:formatDate value="${sanctnDocVO.rqstDe}" pattern="yyyy-MM-dd" />
<!--   2024<span lang=ZH-CN>년</span> -->
<!--   <select> -->
<!--   	<option>01</option> -->
<!--   	<option>02</option> -->
<!--   	<option>03</option> -->
<!--   	<option>04</option> -->
<!--   	<option>05</option> -->
<!--   	<option>06</option> -->
<!--   	<option>07</option> -->
<!--   	<option>08</option> -->
<!--   	<option>09</option> -->
<!--   	<option>10</option> -->
<!--   	<option>11</option> -->
<!--   	<option>12</option> -->
<!--   </select> -->
<!--   <span lang=ZH-CN>월</span> -->
<!--   <input type="text" style='text-align:center; font-family:GulimChe; width: 30px;'> -->
<!--   <span lang=ZH-CN>일</span> -->
<%--   <input type="date" id="rqstDe" name="rqstDe" value="<fmt:formatDate value="${sanctnDocVO.rqstDe}" pattern="yyyy-MM-dd" />" disabled> --%>
  </span>
  </p>
  <div style="display: flex; justify-content: flex-end;">
	  <div style="margin-right: 10px;">
		  <div class=a align=right style='text-align:right;line-height:normal;word-break:
		  normal'><span lang=ZH-CN style='font-size:13.0pt;font-family:GulimChe;
		  letter-spacing:-.45pt; margin-right: 9px;'>학&nbsp;생</span></div>
		  <div class=a align=right style='text-align:right;line-height:normal;word-break:
		  normal'><span lang=ZH-CN style='font-size:13.0pt;font-family:GulimChe;
		  letter-spacing:-.45pt; margin-right: 9px;'>가&nbsp;족</span></div>
	  </div>
	  <div style="margin-right: 10px;">
		  <div class=a align=right style='text-align:right;line-height:normal;word-break:
		  normal'><span lang=ZH-CN style='font-size:13.0pt;font-family:GulimChe;
		  letter-spacing:-.45pt'>${sanctnDocVO.familyRelateVO.stdntVO.mberNm}</span></div>
		  <div class=a align=right style='text-align:right;line-height:normal;word-break:
		  normal'><span lang=ZH-CN style='font-size:13.0pt;font-family:GulimChe;
		  letter-spacing:-.45pt'>${sanctnDocVO.familyRelateVO.parentMemberVO.mberNm}</span></div>
	  </div>
	  <div>
		  <div>(<span style='font-size:11.0pt; font-family:GulimChe; letter-spacing:-.35pt' lang=ZH-CN>인</span>)</div>
		  <div>(<span style='font-size:11.0pt; font-family:GulimChe; letter-spacing:-.35pt' lang=ZH-CN>인</span>)</div>
	  </div>
  </div>
  <input type="text" id="schulCode" name="schulCode" style="display: none;" value="${sanctnDocVO.schulCode}" disabled>
  <p class=a style='line-height:normal'><span lang=ZH-CN style='font-size:10.5pt;
  font-family:"Gulim",sans-serif;color:#353535'>${sanctnDocVO.schulVO.schulNm}장 귀하</span></p>
  </td>
 </tr>
 <tr height=0>
  <td width=70 style='border:none'></td>
  <td width=43 style='border:none'></td>
  <td width=94 style='border:none'></td>
  <td width=36 style='border:none'></td>
  <td width=56 style='border:none'></td>
  <td width=6 style='border:none'></td>
  <td width=108 style='border:none'></td>
  <td width=8 style='border:none'></td>
  <td width=23 style='border:none'></td>
  <td width=58 style='border:none'></td>
  <td width=41 style='border:none'></td>
  <td width=38 style='border:none'></td>
  <td width=62 style='border:none'></td>
 </tr>
</table>
</form>
<div>
<p class=a style='line-height:normal'><span style='font-family:"휴먼명조",serif'> </span><span
lang=ZH-CN style='font-size:11.0pt;font-family:"휴먼명조",serif'>교외체험학습 규정에 의거 학습기간
중 성실히 체험학습에 임하며 제반 규정을 준수하고 만약의 경우 야기되는<br> 
모든 사항에 대하여 보호자와 학생이 전적으로 책임을 져야 한다는 것을 확인합니다</span><span
style='font-size:11.0pt;font-family:"휴먼명조",serif'>.</span></p>

<p class=a style='line-height:130%; margin-top:10px;'>
※ 1일 단위, 반일(12시 30분 기준) 단위 운영 가능&#13;&#10;<br>
※ 체험학습의 목적 및 학습계획(일정, 장소, 활동내용 등)을 구체적으로 작성&#13;&#10;<br>
※ 체험학습 참가 1일 전까지 학교장에게 신청서 제출 및 승인 (전날까지 제출하지 않고 체험학습을 실시할 경우 미인정결석으로 처리)&#13;&#10;<br>
※ 보호자가 신청서를 제출하였다 하여 체험학습이 허가된 것이 아니며 담임교사로부터 최종 허가 여부를 연락(전화 또는 문자) <br>
	&nbsp;&nbsp;&nbsp;&nbsp;받은 후 실시하여야 함&#13;&#10;
</p>

<span style='font-size:11.0pt;font-family:"Malgun Gothic",sans-serif'><br
clear=all style='page-break-before:always'>
</span>
</div>
</div>
<c:if test="${sanctnDocVO.cmmnProcessSttus eq 'A11001' || sanctnDocVO.cmmnProcessSttus eq 'A11003'}">
<div id="updateDiv" style="width: 500px; margin: auto; margin-bottom: 15px;">
	<button id="updateBtn" type="button" style="padding: 10px 15px; width: 195px;">수정하기</button>
	<button id="deleteBtn" type="button" style="padding: 10px 15px; width: 195px; margin-left: 40px;">삭제하기</button>
</div>

<div id="saveDiv" style="width: 500px; margin: auto; margin-bottom: 15px; display: none;">
	<button id="saveBtn" type="button">저장하기</button>
</div>
</c:if>

<!-- 권한이 교감/담임교사일 경우만 보여져야한다 -->
<!-- 시그니처 패드 -->
<c:if test="${USER_INFO.vwMemberAuthVOList[0].cmmnDetailCode eq 'ROLE_A01002'}">
<div id="signPlace">
	<!-- 서명 공간 -->  
	<div style="width:300px; height:300px;">    
		<canvas id="canvas" style="border:1px solid black"></canvas>  
	</div>  
	<!-- 저장 버튼 -->    
	<div>    
		<button id="save">save</button>  
	</div>
</div>
</c:if>
<script>
(function (obj) {
    obj.init();
    $(obj.onLoad);
})((function () {
    var canvas = $("#canvas");
    var div = canvas.parent("div");
    var ctx = canvas[0].getContext("2d");
    var drawble = false;

    function canvasResize() {
        canvas[0].height = div.height();
        canvas[0].width = div.width();
    }

    function draw(e) {
        function getPosition() {
            return {
                X: e.pageX - canvas[0].offsetLeft,
                Y: e.pageY - canvas[0].offsetTop
            }
        }
        switch (e.type) {
            case "mousedown":
                drawble = true;
                ctx.beginPath();
                ctx.moveTo(getPosition().X, getPosition().Y);
                break;
            case "mousemove":
                if (drawble) {
                    ctx.lineTo(getPosition().X, getPosition().Y);
                    ctx.stroke();
                }
                break;
            case "mouseup":
            case "mouseout":
                drawble = false;
                ctx.closePath();
                break;
        }
    }

    function touchdraw(e) {
        function getPosition() {
            return {
                X: e.changedTouches[0].pageX - canvas[0].offsetLeft,
                Y: e.changedTouches[0].pageY - canvas[0].offsetTop
            }
        }
        switch (e.type) {
            case "touchstart":
                drawble = true;
                ctx.beginPath();
                ctx.moveTo(getPosition().X, getPosition().Y);
                break;
            case "touchmove":
                if (drawble) {
                    e.preventDefault();
                    ctx.lineTo(getPosition().X, getPosition().Y);
                    ctx.stroke();
                }
                break;
            case "touchend":
            case "touchcancel":
                drawble = false;
                ctx.closePath();
                break;
        }
    }

    return {
        init: function () {
            $(window).on("resize", canvasResize);

            canvas.on("mousedown", draw);
            canvas.on("mousemove", draw);
            canvas.on("mouseup", draw);
            canvas.on("mouseout", draw);

            canvas.on("touchstart", touchdraw);
            canvas.on("touchend", touchdraw);
            canvas.on("touchcancel", touchdraw);
            canvas.on("touchmove", touchdraw);

            $("#save").on("click", function () {
                var link = document.createElement('a');
                link.href = canvas[0].toDataURL("image/png");
                link.download = "image.png";
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                // Canvas 비우기
                ctx.clearRect(0, 0, canvas[0].width, canvas[0].height);
            });
        },
        onLoad: function () {
            canvasResize();
        }
    }
})());
</script>









