<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags"%>
<style>
#noticeContainer h3{
font-size: 2.2rem;
text-align: center;
backdrop-filter: blur(4px);
background-color: rgba(255, 255, 255, 1);
border-radius: 50px;
box-shadow: 35px 35px 68px 0px rgba(145, 192, 255, 0.5), inset -8px -8px 16px 0px rgba(145, 192, 255, 0.6), inset 0px 11px 28px 0px rgb(255, 255, 255);
width: 370px;
padding-top: 35px;
padding-bottom: 35px;
margin: auto;
margin-bottom: 40px;
}
</style>
<style>
#noticeContainer{
	min-height: 255px;
}
#noticeContainer .custom-pagination{
	max-width:302px;
	margin: auto;
}
#noticeContainer .custom-pagination .pagination {
	 width: max-content;
}
.searchForm{
	height: 40px;
	border: 1px solid #ddd;
	border-radius: 5px;
	padding: 15px 20px;
}

#searchBtn,#insertBtn{
	background: #333;
	height: 40px;
	border: none;
	padding: 10px 15px;
	border-radius: 10px;
	font-family: 'Pretendard' !important;
	font-weight: 600;
	color: #fff;
}
#searchBtn:hover, #insertBtn:hover{
	background: #ffd77a;
	color:#333;
	transition:all 1s;
	font-weight: 700;
}
#insertBtn{
	background: #006DF0;
}

#searchCondition{
	height: 40px;
	border: 1px solid #ddd;
	border-radius: 5px;
	padding-left: 10px;
}

.custom-datatable-overright table tbody tr.none-tr td:hover{
	background: #fff!imporant;
}

.noticeAll{
	width: 1400px;
	margin: auto;
	backdrop-filter: blur(10px);
	background-color: rgba(255, 255, 255, 1);
	border-radius: 50px;
	box-shadow: 0px 35px 68px 0px rgba(145, 192, 255, 0.5), inset 0px -6px 16px 0px rgba(145, 192, 255, 0.6), inset 0px 11px 28px 0px rgb(255, 255, 255);
	padding: 50px 80px;
}

.noticeAll .free-cont{
	border: 1px solid #ddd;
	border-radius: 10px;
	padding: 10px 20px;
	min-height: 83px;
	margin-top: 50px;
}
.noticeAll .noticeTit {
	display: flex;
	justify-content: space-between;
	position:relative;
}

.noticeAll .title{
	font-size: 1.8rem;
	font-weight: 700;
	margin-top: 6px;
}
</style>
<script type="text/javascript" src="/resources/js/commonFunction.js"></script>
<script type="text/javascript" src="/resources/js/jquery.min.js"></script>
<script type="text/javascript">
//전역 변수
var currentPage = "${param.currentPage}";
var keyword = "";
var clasCode = "${clasCode}";

if(currentPage == "") currentPage = "1";

var data = {
	"currentPage":currentPage,	
	"keyword":keyword
};

$(function(){
	// 알림장 목록 불러오기
	$.ajax({
		url:"/notice/getNoticeList",
		contentType:"application/json;charset=utf-8",
		data:JSON.stringify(data),
		type:"post",
		dataType:"json",
		beforeSend:function(xhr){
			xhr.setRequestHeader("${_csrf.headerName}","${_csrf.token}");
		},
		success: function(res){
// 			alert("리스트 불러오기 성공~");
			console.log("noticeList", res);
			
			var str = "";
			
			$.each(res, function(idx, ntcnVO){
				str += "<tr class='detailGo'>";
				str += "<td style=''>"+(idx + 1)+"</td>";
				str += "<td style=''><a href='#' class='editable editable-click'>"+ntcnVO.ntcnCn+"</a></td>";
				str += "<td style=''>"+dateFormat(ntcnVO.ntcnWritngDt)+"</td>";
				str += "<td style=''><a href='#' class='editable editable-click'>"+ntcnVO.hrtchrVO.mberNm+"</a></td>";
				str += "<td style=''>"+ntcnVO.ntcnCnt+"</td>";
				str += "</tr>"			
			});
			
// 			$("#noticeListTbody").html(str);
		}
	});
})
</script>
<div id="noticeContainer">
	<form id="freefrm" method="post" action="/freeBoard/freeBoardDetailView">
		<input type="hidden" value="" id="nttCode" name="nttCode">
		<sec:csrfInput />
	</form>
	<div class="sparkline13-list">
		<h3>
			<img src="/resources/images/classRoom/notice/noticeContent.png" style="width:50px; display:inline-block; vertical-align:middel;">
				알림장
			<img src="/resources/images/classRoom/notice/star.png" style="width:40px; display:inline-block; vertical-align:middel;">		
		</h3>
		<div class="sparkline13-graph">
			<div class="datatable-dashv1-list custom-datatable-overright">
				<div class="bootstrap-table">
					<div class="fixed-table-toolbar">
						<div class="pull-left button">
							<button type="button" id="insertBtn">게시글 등록</button>
						</div>
						<div class="pull-right search" style="margin-bottom: 20px;">
							<form action="/freeBoard/freeBoardList" method="get">
								<!-- 검색 조건 시작-->
								<select name="searchCondition" id="searchCondition">
<%-- 								방법1)<option value="" <c:if test="${searchCondition eq ''}">selected="selected"</c:if>>전체</option> --%>
<%-- 									<option value="titl" <c:if test="${searchCondition eq 'titl'}">selected="selected"</c:if>>제목</option> --%>
<%-- 									<option value="cntn" <c:if test="${searchCondition eq 'cntn'}">selected="selected"</c:if>>내용</option> --%>
<%-- 									<option value="titlCntn" <c:if test="${searchCondition eq 'titlCntn'}">selected="selected"</c:if>>제목 + 내용</option> --%>
<%-- 									<option value="writ" <c:if test="${searchCondition eq 'writ'}">selected="selected"</c:if>>작성자</option> --%>
<!-- 								방법2) -->
									<option value="">전체</option>
									<!-- db쿼리단에서 value값으로 if문 쓰기위해  조건마다 value값 입력 -->
									<option value="titl">제목</option>
									<option value="cntn">내용</option>
									<option value="titlCntn">제목 + 내용</option>
									<option value="writ">작성자</option>
								</select>
								<!-- 검색 조건 끝-->
								<!-- 검색어 시작 -->
								<input class="searchForm" type="text" placeholder="" id="keyword" name="keyword" value="">
								<button type="submit" id="searchBtn">검색</button>
								<!-- 검색어 끝 -->
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div id="noticeContainer">
	<div class="noticeAll" style="width: 1400px; margin: auto; margin-bottom:50px; min-height:530px;">
		<div>
			<div class="noticeTit">
				<h4>제목</h4>
			</div>
			<div class="noticeTit">
				<p class="all-pro-ad">2024-12-12</p>
				<p class="all-pro-ad">이름</p>
				<p class="all-pro-ad">조회수</p>
			</div>
			<hr>
<!-- 				<img src="/resources/images/classRoom/freeBrd/line.png"> -->
		</div>
		<div class="form-group res-mg-t-15">
<!--             <textarea id="noticeArea" name="noticeArea" readonly style="resize: none; height: 100px;"></textarea> -->
        		<p>내용ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
        	<img alt="알림장 이미지" src="/resources/images/classRoom/notice/박명수.JPG">
        </div>
	</div>
	
</div>